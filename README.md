State and Event machine for QT
